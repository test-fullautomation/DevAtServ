#!/bin/bash

source /opt/devatserv/bin/start-devatserv.sh

# Service name
service="devatserv"

display_commands() {
    echo "Commands:"
    echo "  start       Start one or all service of DevAtServ"
    echo "  stop        Stop one or all services of DevAtServ"
    echo "  restart     Restart one or all services of DevAtServ"
    echo "  rm          Remove stopped service containers of DevAtSev"
    echo "  down        Stop and remove one/all services of DevAtServ, networks"
    echo "  load        Load one all images of DevAtSev"
}

display_options() {
    echo "Options:"
    echo "  -f, --config-file   <config_file>   Input a specified config file"
    echo "  -i, --install       <config_file>   Install services using specified config file"
    echo "  -c, --clone                         Clone and update services"
    echo "  -s, --start                         Build and start Docker Compose services"
    echo "  -a, --archive                       Archive all services"
    echo "  -h, --help                          Show this help message"
}

# Function to show help with both commands and global options
show_help() {
  echo "Usage: $0 [command]"
  echo
  display_commands
  #echo
  #display_options
}

# Parse command-line arguments
if [ $# -eq 0 ]; then
  show_help
else
  case $1 in
      start) 
        shift # Skip from 'start'
        start_devatserv "$@"
        ;;
      stop) 
        shift
        stop_devatserv "$@"
        ;;
      restart)
        shift 
        restart_devatserv "$@"
        ;;
      rm)
        shift 
        rm_devatserv "$@"
        ;;
      down)
        shift 
        down_devatserv "$@"
        ;;
      load)
        load_devatserv
        ;;
      -h|--help)
        show_help
        exit 0
        ;;
      *)
        echo "Error: Invalid option $1"
        show_help
        exit 1
        ;;
  esac
fi